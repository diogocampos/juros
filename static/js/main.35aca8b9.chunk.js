(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,t,n){e.exports=n(41)},27:function(e,t,n){},33:function(e,t,n){},35:function(e,t,n){},37:function(e,t,n){},39:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"setMode",function(){return L}),n.d(a,"default",function(){return G});var r={};n.r(r),n.d(r,"clearValues",function(){return H}),n.d(r,"setValue",function(){return Q}),n.d(r,"default",function(){return W});var l={};n.r(l),n.d(l,"calculateResults",function(){return _}),n.d(l,"default",function(){return te});var u=n(0),c=n.n(u),o=n(18),s=n.n(o),i=(n(27),n(6)),d=n(7),f=n(11),m=n(8),v=n(12),p=n(2),b=(n(33),n(35),n(21)),h=",",O=".";function g(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=e.toFixed(t).split("."),a=Object(b.a)(n,2),r=a[0],l=a[1],u=r.length%3,c=u?[r.slice(0,u)]:[],o=u;o<r.length;o+=3)c.push(r.slice(o,o+3));return c.join(O)+(l?h+l:"")}function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=e.replace(/[^\d]/g,"");n.length<t&&(n=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" ",a="";a.length+e.length<t;)a+=n;return a.slice(0,t-e.length)+e}(n,t,"0"));var a=n.length-t;return+(n.slice(0,a)+"."+n.slice(a))}var y,E,N,w=16,C=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(f.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).inputRef=c.a.createRef(),n.handleChange=function(e){var t=e.target.value.replace(/[^\d]/g,"");if(!(t.length>w)){var a=j(t,n.props.decimals);n.props.onChange(n.props.name,a)}},n.handleFocus=function(){setTimeout(function(){var e=n.inputRef.current,t=e.value.length;e.setSelectionRange(t,t)},0)},n.handleKeyDown=function(e){33<=e.keyCode&&e.keyCode<=40&&e.preventDefault(),27===e.keyCode&&n.props.onChange(n.props.name)},n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.name,n=e.label,a=e.value,r=e.decimals;return c.a.createElement("label",{className:"NumberField"},c.a.createElement("span",{className:"NumberField-label"},n),c.a.createElement("input",{className:"NumberField-input",type:"text",pattern:"[0-9]*",inputMode:"decimal",placeholder:g(0,r),name:t,value:a?g(a,r):"",onChange:this.handleChange,onClick:this.handleFocus,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,ref:this.inputRef}))}}]),t}(c.a.Component),R=n(1),k="deposit",x="installment",F="interest",S="length",V="price",M="total",D=(y={},Object(R.a)(y,x,[V,k,S,F]),Object(R.a)(y,F,[V,k,S,x]),y),I=(E={},Object(R.a)(E,k,{label:"Entrada",prefix:"$"}),Object(R.a)(E,x,{label:"Valor da parcela",prefix:"$"}),Object(R.a)(E,F,{label:"Taxa de juros",suffix:"%"}),Object(R.a)(E,S,{label:"N\xfamero de parcelas",decimals:0}),Object(R.a)(E,V,{label:"Valor \xe0 vista",prefix:"$"}),Object(R.a)(E,M,{label:"Total a prazo",prefix:"$"}),E),J=n(9),T=n(4),A=n(20),$="mode/set-mode",K="results/set-results",q="values/clear-values",z="values/set-value",B=[x,F],L=function(e){return{type:$,mode:e}},P=F;function G(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return B.indexOf(t.mode)<0?e:t.mode;default:return e}}var H=function(){return{type:q}},Q=function(e,t){return{type:z,name:e,value:t}},U=(N={},Object(R.a)(N,k,0),Object(R.a)(N,x,0),Object(R.a)(N,F,0),Object(R.a)(N,S,0),Object(R.a)(N,V,0),N);function W(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return U;case z:var n=t.name,a=t.value;return Object.keys(U).indexOf(n)<0?e:Object(J.a)({},e,Object(R.a)({},n,a||U[n]));default:return e}}function X(e,t){var n,a,r=t[k],l=t[x],u=t[F],c=t[S],o=t[V];switch(e){case x:return l=function(e,t,n,a){var r=Z(e-t,a/100,n);if(isNaN(r))throw new Error("Installment calculation failed");return r}(o,r,c,u),n={},Object(R.a)(n,x,l),Object(R.a)(n,M,Y(r,c,l)),n;case F:return a={},Object(R.a)(a,F,function(e,t,n,a){var r=e-t,l=0,u=0,c=1e6;for(;++l<=1e3;){var o=(u+c)/2,s=Z(r,o,n)-a;if(Math.abs(s)<1e-6)return 100*o;s>0?c=o:u=o}throw new Error("Interest calculation did not converge")}(o,r,c,l)),Object(R.a)(a,M,Y(r,c,l)),a;default:throw new Error("Invalid mode: '".concat(e,"'"))}}function Y(e,t,n){return e+t*+n.toFixed(2)}function Z(e,t,n){return t>0?e*t/(1-1/Math.pow(1+t,n)):e/n}var _=function(){return function(e,t){var n=t(),a=n.mode,r=n.values;try{var l=X(a,r)}catch(u){l="error"}e(function(e){return{type:K,results:e}}(l))}},ee=null;function te(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:return t.results;case q:case $:case z:return ee;default:return e}}var ne=Object(J.a)({},a,r,l),ae=Object(T.c)({mode:G,values:W,results:te});function re(e,t){var n=ae(e,t);return n!==e&&ue(n),n}var le="state",ue=function(e,t){var n=null;return function(){for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];n&&clearTimeout(n),n=setTimeout(function(){e.apply(void 0,r),n=null},t)}}(function(e){localStorage.setItem(le,JSON.stringify(e))},1e3);var ce=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(f.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleReset=function(e){e.preventDefault(),n.props.onReset()},n.handleSubmit=function(e){e.preventDefault(),n.props.onSubmit()},n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.mode,n=e.values,a=e.onChange,r=D[t];return c.a.createElement("form",{className:"Fields",onReset:this.handleReset,onSubmit:this.handleSubmit,noValidate:!0},c.a.createElement("div",{className:"Fields-inputs"},r.map(function(e){return c.a.createElement(C,Object.assign({key:e,name:e,value:n[e],onChange:a},I[e]))})),c.a.createElement("div",{className:"Fields-buttons"},c.a.createElement("button",{className:"Fields-button",type:"reset"},"Limpar"),c.a.createElement("button",{className:"Fields-button primary",type:"submit"},"Calcular")))}}]),t}(c.a.Component),oe=Object(p.b)(function(e){return{mode:e.mode,values:e.values}},function(e){return{onChange:function(t,n){return e(ne.setValue(t,n))},onReset:function(){return e(ne.clearValues())},onSubmit:function(){return e(ne.calculateResults())}}})(ce),se=n(10),ie=n.n(se),de=(n(37),[{mode:F,label:"Juros"},{mode:x,label:"Parcela"}]);var fe=Object(p.b)(function(e){return{mode:e.mode}},function(e){return{onChange:function(t){return e(ne.setMode(t))}}})(function(e){var t=e.mode,n=e.onChange;return c.a.createElement("div",{className:"Modes"},de.map(function(e){var a=e.mode,r=e.label;return c.a.createElement("button",{key:a,className:ie()("Modes-mode",a===t&&"active"),onClick:function(){return a!==t&&n(a)}},r)}))});n(39);function me(e){var t=e.label,n=e.prefix,a=e.value,r=e.suffix;return c.a.createElement("div",{className:"Results-result"},c.a.createElement("h3",{className:"Results-label"},t),c.a.createElement("p",{className:"Results-value"},n&&c.a.createElement("span",{className:"Results-unit"},n),a,r&&c.a.createElement("span",{className:"Results-unit"},r)))}var ve=Object(p.b)(function(e){return{results:e.results}})(function(e){var t=e.results;return t?c.a.createElement("div",{className:ie()("Results","error"===t&&"error")},"error"!==t?Object.keys(t).map(function(e){return c.a.createElement(me,Object.assign({key:e},I[e],{value:g(t[e],I[e].decimals)}))}):c.a.createElement(me,{label:"Erro",value:"Verifique os valores preenchidos."})):null});var pe=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(fe,null),c.a.createElement(oe,null),c.a.createElement(ve,null))};s.a.render(function(e){var t=function(){try{return JSON.parse(localStorage.getItem(le)||"")}catch(e){}}()||{},n=Object(T.d)(re,t,Object(T.a)(A.a));return c.a.createElement(p.a,{store:n},e)}(c.a.createElement(pe,null)),document.getElementById("root"))}},[[22,2,1]]]);
//# sourceMappingURL=main.35aca8b9.chunk.js.map